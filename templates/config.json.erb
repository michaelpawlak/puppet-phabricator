{
  "phabricator.base-uri": "<% if @nginx_ssl -%>https://<% else -%>http://<% end -%><%= @base_uri %>",
  "phabricator.production-uri": <% if @prod_uri -%><% if @nginx_ssl -%>"https://<% else -%>http://<% end -%><%= @prod_uri %>"<% else -%>null<% end %>,

  <%# Security settings %>
  "security.alternate-file-domain": null,
  "security.require-https": <% if @nginx_ssl -%>true<% else -%>false<% end %>,
  "security.allow-outbound-http": true,

  <%# Access Policies %>
  "policy.allow-public": false,

  <%# Logging %>
  "log.access.path": "<%= @log_file %>",
  "log.access.format": null,

  <%# DarkConsole %>
  "config.lock": [],
  "config.hide": [],
  "config.mask": [],
  "config.ignore-issues": [],

  <%# MySQL settings %>
  "mysql.user": "<%= @mysql_user %>",
  "mysql.pass": "<%= @mysql_pass %>",
  "mysql.host": "<%= @mysql_host %>",
  "mysql.port": "<%= @mysql_port %>",

  <%# Notifications %>
  "notification.enabled": false,
  "notification.client-uri": "http://localhost:22280/",
  "notification.server-uri": "http://localhost:22281/",
  "notification.user": null,
  "notification.debug": false,

  <%# Email %>
  "metamta.default-address": "noreply@<%= @domain %>",
  "metamta.domain": "<%= @domain %>",
  "metamta.can-send-as-user": false,
  "metamta.maniphest.reply-handler-domain": null,
  "metamta.single-reply-handler-prefix": "phabricator",
  "metamta.pholio.reply-handler-domain": null,
  "metamta.macro.reply-handler-domain": null,
  "metamta.differential.reply-handler-domain": null,
  "metamta.diffusion.reply-handler-domain": null,
  "metamta.public-replies": false,
  "metamta.maniphest.public-create-email": null,
  "metamta.maniphest.default-public-author": null,
  "metamta.herald.show-hints": true,
  "metamta.reply.show-hints": true,
  "metamta.recipients.show-hints": true,
  "metamta.precedence-bulk": true,
  "metamta.re-prefix": false,
  "metamta.vary-subjects": true,

  <%# Auth %>
  "auth.require-email-verification": false,
  "auth.email-domains": [],

  <%# Accounts %>
  "account.editable": true,

  <%# Recaptcha %>
  "recaptcha.enabled": false,
  "recaptcha.public-key": null,
  "recaptcha.private-key": null,

  <%# Misc %>
  "phabricator.timezone": null,
  "phabricator.developer-mode": false,
  "phabricator.serious-business": false,
  "phabricator.show-beta-applications": false,
  "phabricator.uninstalled-applications": [],
  "phabricator.allow-email-users": false,

  <%# Files %>
  "files.enable-imagemagick": true,

  <%# Storage %>
  "storage.mysql-engine.max-size": 1000000,
  "storage.local-disk.path": null,
  "amazon-s3.access-key": null,
  "amazon-s3.secret-key": null,
  "amazon-s3.endpoint": null,
  "storage.s3.bucket": null,
  "storage.upload-size-limit": "<%= @upload_size %>",

  <%# Search %>
  "search.elastic.host": null,

  <%# Differential %>
  "differential.whitespace-matters": [],
  "differential.show-host-field": false,
  "differential.require-test-plan-field": false,
  "differential.enable-email-accept": false,
  "differential.generated-paths": [],
  "differential.allow-self-accept": false,
  "differential.always-allow-close": false,
  "differential.allow-reopen": false,
  "differential.days-fresh": 1,
  "differential.days-stale": 3,

  <%# Repositories %>
  "repository.default-local-path": "<%= @local_repo_path %>",
  "diffusion.ssh-user": "<%= @vcs_user %>",

  <%# Maniphest %>

  <%# Cache %>
  "cache.enable-deflate": true,

  <%# Garbage Collection %>

  <%# Feed %>
  "feed.public": false,
  "feed.http-hooks": [],

  <%# Drydock %>
  "amazon-ec2.access-key": null,
  "amazon-ec2.secret-key": null,

  <%# Customization %>
  "load-libraries": [],
  "phd.verbose": false,
  "phd.trace": false,
  "celerity.minify": <% if @environment == 'production' %>true<% else %>false<% end %>,
  "events.listeners": [],
  "phd.user": "<%= @user %>",

  <%# Syntax Highlighting %>
  "pygments.enabled": true,
  "syntax.filemap": [],

  <%# Debugging %>
  "debug.stop-on-redirect": false,
  "debug.profile-rate": 0,

  <%# Environment %>
  "environment.append-paths": [],

  <%# Audit %>
  "audit.can-author-close-audit": false
}
